(this.webpackJsonpcorpogame=this.webpackJsonpcorpogame||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){e.exports=n(52)},,,,,function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),o=n.n(i),l=(n(22),n(1)),c=n(3),s=n.n(c),u=(n(41),function(e){return r.a.createElement("div",null,r.a.createElement("input",{value:e.login,onChange:function(t){return e.handleChangeLogin(t.target.value)}}),r.a.createElement("input",{value:e.password,onChange:function(t){return e.handleChangePassword(t.target.value)}}),r.a.createElement("button",{onClick:function(){return e.handleLoggingOnClickButton()}},"LOGIN"))}),m=function(e){return r.a.createElement("div",null,e.logErrMsg)},d=(n(42),n(43),function(e){return r.a.createElement("div",{className:"menuContainer"},r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("Hero")}},"Bohater")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("City")}},"Miasto ",e.CityAlert)),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("Residence")}},"Willa")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("Warehouse")}},"Magazyn")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("Lab")}},"Laboratorium")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("Bribes")}},"\u0141ap\xf3wki")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("Map")}},"Mapa")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("Socios")}},"Socios")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("Cartel")}},"Kartel")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("MailBox")}},"MailBox")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClick("Shop")}},"Sklep")),r.a.createElement("div",{className:"menuButtonContainer"},r.a.createElement("button",{onClick:function(){return e.onClickLogout()}},"LogOut")))}),p=(n(44),n(45),function(e){return r.a.createElement("progress",{value:e.value,max:e.max})}),b=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],o=n[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"headerContainer"},r.a.createElement("div",{className:"headerItem"},"Nick: ",e.hero.username),r.a.createElement("div",{className:"headerItem"},"Klasa: ",e.hero.category),r.a.createElement("div",{className:"headerItem"},"Z\u0142oto: ",e.hero.gold),r.a.createElement("div",{className:"headerItem"},"Lvl: ",e.hero.lvl)),r.a.createElement("div",{id:"progressBarHeader",onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)}},r.a.createElement(p,{value:e.hero.exp,max:e.hero.expNextLvl}),i&&r.a.createElement("div",{id:"progressBarHeaderInfo"},e.hero.exp," / ",e.hero.expNextLvl)))},E=(n(46),["strzelanie","wytrzyma\u0142o\u015b\u0107","inteligencja","spryt","zwinno\u015b\u0107","szcz\u0119\u015bcie","pancerz"]),f=["shooting","stamina","intelligence","flair","agility","luck","armor"],h={name:"",description:"",imgUrl:"blank.png",stats:{strength:0,dexterity:0,stamina:0,intelligence:0,luck:0,armor:0}},k=n(4),v=function(e){for(var t={},n={shooting:0,stamina:0,intelligence:0,flair:0,agility:0,luck:0,armor:0},a=0,r=["head","body","legs","foots","ammo","bullet","palms","finger","neck","amulet"];a<r.length;a++){var i=r[a];if(e[i]){t=e[i].stats;var o,l=Object(k.a)(f);try{for(l.s();!(o=l.n()).done;){var c=o.value;n[c]+=t[c]}}catch(s){l.e(s)}finally{l.f()}}}return n},g=function(e){return r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.onClick(e.statName)},disabled:!!e.isDisabled},"+"),"Koszt: ",e.cost)},C=(n(15),function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],o=n[1],c="https://rololand.github.io/cartelgame/db/items/"+e.equipment.imgUrl;return r.a.createElement("div",{className:"equipmentCard",onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)}},r.a.createElement("div",null,r.a.createElement("img",{src:c,alt:""})),i&&""!==e.equipment.name&&r.a.createElement("div",{className:"equipmentInfo"},r.a.createElement("span",{className:"equipmentTitle"},e.equipment.name),r.a.createElement("span",{className:"equipmentDescription"},e.equipment.description),f.map((function(t,n){return r.a.createElement("div",{key:t,className:"statsName"},e.equipment.stats[t]>0&&r.a.createElement("span",null,E[n],": ",e.equipment.stats[t]))})),"Warto\u015b\u0107: ",e.equipment.price,r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.undressEquipment(e.equipment)}},"zdejmij"),r.a.createElement("button",{onClick:function(){return e.sellEquipment(e.equipment)}},"sprzedaj"))))}),N=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],o=n[1],c="https://rololand.github.io/cartelgame/db/items/"+e.equipment.imgUrl;return r.a.createElement("div",{className:"equipmentCard",onMouseEnter:function(){return o(!0)},onMouseLeave:function(){return o(!1)}},r.a.createElement("div",null,r.a.createElement("img",{src:c,alt:""})),i&&""!==e.equipment.name&&r.a.createElement("div",{className:"equipmentInfo"},r.a.createElement("span",{className:"equipmentTitle"},e.equipment.name),r.a.createElement("span",{className:"equipmentDescription"},e.equipment.description),f.map((function(t,n){return r.a.createElement("div",{key:t,className:"statsName"},e.equipment.stats[t]>0&&r.a.createElement("span",null,E[n],": ",e.equipment.stats[t]))})),"Warto\u015b\u0107: ",e.equipment.price,r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return e.dressEquipment(e.equipment,e.id)}},"zaloz"),r.a.createElement("button",{onClick:function(){return e.sellEquipment(e.equipment,e.id)}},"sprzedaj"))))},q=function(e){var t="https://rololand.github.io/cartelgame/db/avatars/"+e.avatar;return r.a.createElement("div",null,r.a.createElement("img",{src:t,alt:""}))},j=function(e){var t=function(t){return 10*(e.hero.stats[t]+1)},n=function(n){return e.hero.gold>t(n)},a=function(a){var r=e.hero;n(a)&&(r.gold=r.gold-t(a),r.stats[a]=r.stats[a]+1,e.updateHero(r))},i=function(e,t){var n=[];return e.forEach((function(e,a){a!==t&&n.push(e)})),n},o=function(t,n){var a=e.hero,r=t.what;if(a.equipment[r]){var o=a.backpack[n],l=a.equipment[r];a.backpack[n]=l,a.equipment[r]=o}else a.equipment[r]=t,a.backpack=i(e.hero.backpack,n);a.statsAllEquipments=v(a.equipment),e.updateHero(a)},l=function(t){var n=e.hero;delete n.equipment[t.what],e.hero.backpack.length<10&&e.hero.backpack.push(t),console.log(n),n.statsAllEquipments=v(n.equipment),e.updateHero(n)},c=function(t,n){var a=e.hero;a.gold+=t.price,Number.isInteger(n)?a.backpack=i(e.hero.backpack,n):delete a.equipment[t.what],a.statsAllEquipments=v(a.equipment),e.updateHero(a)},s=function(e){return e?r.a.createElement(C,{equipment:e,undressEquipment:l.bind(void 0),sellEquipment:c.bind(void 0)}):r.a.createElement(C,{equipment:h,undressEquipment:l.bind(void 0),sellEquipment:c.bind(void 0)})},u=function(e,t){return e?r.a.createElement(N,{key:t,id:t,equipment:e,dressEquipment:o.bind(void 0),sellEquipment:c.bind(void 0)}):r.a.createElement(N,{key:t,id:t,equipment:h,dressEquipment:o.bind(void 0),sellEquipment:c.bind(void 0)})},m=[0,1,2,3,4];return r.a.createElement("div",{id:"Hero"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",null,s(e.hero.equipment.head),s(e.hero.equipment.body),s(e.hero.equipment.legs),s(e.hero.equipment.foots)),r.a.createElement("div",null,r.a.createElement(q,{avatar:e.hero.avatar})),r.a.createElement("div",null,s(e.hero.equipment.palms),s(e.hero.equipment.finger),s(e.hero.equipment.neck),s(e.hero.equipment.amulet))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"row"},s(e.hero.equipment.ammo),s(e.hero.equipment.bullet)),r.a.createElement("div",{className:"row"},"flakony"))),r.a.createElement("div",{className:"backpack row"},r.a.createElement("div",null,m.map((function(t){return u(e.hero.backpack[t],t)}))),r.a.createElement("div",null,m.map((function(t){return u(e.hero.backpack[t+5],t+5)}))))),r.a.createElement("div",{className:"statsContainer"},r.a.createElement("div",{className:"row"},r.a.createElement("div",null,f.slice(0,3).map((function(i,o){return"armor"!==i&&r.a.createElement("div",{key:E[o],className:"row"},r.a.createElement("div",{className:"statsName"},E[o],": ",e.hero.stats[i]," + ",e.hero.statsAllEquipments[i]),r.a.createElement(g,{onClick:function(e){return a(e)},statName:i,cost:t(i),isDisabled:!n(i)}),r.a.createElement("br",null))}))),r.a.createElement("div",null,f.slice(3,f.length).map((function(i,o){return"armor"!==i&&r.a.createElement("div",{key:E[o+3],className:"row"},r.a.createElement("div",{className:"statsName"},E[o+3],": ",e.hero.stats[i]," + ",e.hero.statsAllEquipments[i]),r.a.createElement(g,{onClick:function(e){return a(e)},statName:i,cost:t(i),isDisabled:!n(i)}),r.a.createElement("br",null))}))))))},O=(n(47),function(e){var t=Math.floor(e/60),n=Math.round(e%60);return t<0&&(t=0),n<0&&(n=0),(t<10?"0"+t:t)+":"+(n<10?"0"+n:n)}),w=function(e){var t=e.id,n="https://rololand.github.io/cartelgame/db/tasks/"+e.task.imgUrl[t];return r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"cardImg",src:n,alt:""}),r.a.createElement("br",null),r.a.createElement("h1",null,e.task.name[t]),r.a.createElement("p",{className:"cardDescription"},e.task.description[t]),"gold: ",e.task.gold[t],r.a.createElement("br",null),"exp: ",e.task.exp[t],r.a.createElement("br",null),"time: ",O(e.task.taskDuration[t]),r.a.createElement("br",null),"Szansa na z\u0142apanie: ",e.prisonChance<0?0:e.prisonChance,"%",r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.startTask(e.task,t)}},"Start Task"))},x=(n(48),function(e){return r.a.createElement("div",{className:"SelectTaskContainer row"},[0,1,2].map((function(t){return r.a.createElement(w,{startTask:e.startTask.bind(void 0),task:e.task,prisonChance:e.prisonChance,id:t,key:t})})))}),y=function(e){var t="https://rololand.github.io/cartelgame/db/tasks/"+e.task.imgUrl,n=e.remainingTaskDuration;n=Number.isInteger(n)?n:e.task.taskDuration;var a=e.task.taskDuration-n;return r.a.createElement("div",null,r.a.createElement("h1",null,e.task.name),r.a.createElement("img",{className:"cardImg",src:t,alt:""}),r.a.createElement("br",null),O(n)," ",r.a.createElement("br",null),r.a.createElement(p,{value:a,max:e.task.taskDuration}))},D=(n(49),function(e){var t="https://rololand.github.io/cartelgame/db/tasks/"+e.task.imgUrl;return r.a.createElement("div",null,r.a.createElement("h1",null,"Uko\u0144czono zadanie!"),r.a.createElement("h2",null,e.task.name),r.a.createElement("img",{className:"taskFinishedImg",src:t,alt:""}),r.a.createElement("br",null),r.a.createElement("div",null,"Z\u0142oto: ",e.task.gold," ",r.a.createElement("br",null),"Exp: ",e.task.exp," ",r.a.createElement("br",null),"Item name: ",e.task.item?e.task.item.name:"",r.a.createElement("br",null),"Item description: ",e.task.item?e.task.item.description:"",r.a.createElement("br",null),"Szansa na z\u0142apanie: ",e.prisonChance<0?0:e.prisonChance,"%",r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return e.calculateTask()}},"Calculate Task")))}),L=function(e){return r.a.createElement("div",null,e.task.isStarted?e.task.isFinished?r.a.createElement(D,{task:e.task,prisonChance:e.prisonChance,calculateTask:e.calculateTask}):r.a.createElement(y,{remainingTaskDuration:e.remainingTaskDuration,task:e.task}):r.a.createElement(x,{startTask:e.startTask.bind(void 0),task:e.task,prisonChance:e.prisonChance}))},T=function(){return r.a.createElement("div",null,"Residence")},z=function(){return r.a.createElement("div",null,"Warehouse")},B=function(){return r.a.createElement("div",null,"Lab")},P=(n(50),function(e){var t="https://rololand.github.io/cartelgame/db/avatars/"+e.imgUrl,n=e.remainingBribeDuration;n=Number.isInteger(n)?n:e.bribeDuration;var a=e.bribeDuration-n;return r.a.createElement("div",{className:"card"},r.a.createElement("img",{className:"cardImg",src:t,alt:""}),r.a.createElement("h1",{className:"bribeHeader"},e.name),r.a.createElement("p",{className:"bribeDescription"},e.description),"Koszt: ",e.bribeCost,r.a.createElement("br",null),"Czas trwania: ",O(e.bribeDuration),r.a.createElement("br",null),"Redukuje szans\u0119 z\u0142apania do wi\u0119zienia o: ",e.chanceReduction,"%",r.a.createElement("br",null),e.heroBribe.isPayed&&e.heroBribe.id===e.id?r.a.createElement("div",null,O(n)," ",r.a.createElement("br",null),r.a.createElement(p,{value:a,max:e.bribeDuration})):r.a.createElement("button",{disabled:!(e.isEnoughGoldToPayBribe&&!e.heroBribe.isPayed),onClick:function(){return e.payBribe(e.id)}},"Zap\u0142a\u0107 \u0142ap\xf3wk\u0119!"))}),S=function(e){var t=function(t){return e.hero.gold>t};return r.a.createElement("div",{className:"row"},[0,1,2].map((function(n){return r.a.createElement(P,{imgUrl:e.bribesList[n].imgUrl,name:e.bribesList[n].name,description:e.bribesList[n].description,bribeCost:e.bribesList[n].cost,chanceReduction:e.bribesList[n].chanceReduction,bribeDuration:e.bribesList[n].duration,isEnoughGoldToPayBribe:t(e.bribesList[n].cost),payBribe:function(n){return function(n){var a=e.hero;if(t(e.bribesList[n].cost)){console.log("pay bribe"),a.gold-=e.bribesList[n].cost,a.prison.chance-=e.bribesList[n].chanceReduction,a.bribe.isPayed=!0,a.bribe.chanceReduction=e.bribesList[n].chanceReduction,a.bribe.id=n;var r=new Date;a.bribe.endTime=new Date(r.getTime()+1e3*e.bribesList[n].duration).getTime(),console.log(a),e.updateHero(a)}}(n)},id:n,heroBribe:e.hero.bribe,remainingBribeDuration:e.remainingBribeDuration,key:n})})))},M=function(){return r.a.createElement("div",null,"Map")},I=function(){return r.a.createElement("div",null,"Socios")},H=function(){return r.a.createElement("div",null,"Cartel")},U=function(){return r.a.createElement("div",null,"MailBox")},G=function(){return r.a.createElement("div",null,"Shop")},A=(n(51),function(e){var t=e.remainingPrisonDuration;t=Number.isInteger(t)?t:e.prisonDuration;var n=e.prisonDuration-t;return r.a.createElement("div",null,r.a.createElement("h1",null,"Zosta\u0142e\u015b z\u0142apany!"),r.a.createElement("img",{className:"PrisonImg",src:"https://rololand.github.io/cartelgame/db/others/prison.jpg",alt:""}),r.a.createElement("br",null),O(t)," ",r.a.createElement("br",null),r.a.createElement(p,{value:n,max:e.prisonDuration}),r.a.createElement("h2",null,"Przeczekaj odsiadk\u0119 lub op\u0142a\u0107 kaucj\u0119"),r.a.createElement("button",{disabled:!e.isEnoughGoldToLeftPrison,onClick:function(){return e.payAndGetOutPrison()}},"Wyjd\u017a z wi\u0119zienia za ",e.costOfGettingOutOfPrison," z\u0142ota"))}),F=function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},R=function(e,t,n){var a=Math.random()*(t-e)+e,r=Math.pow(10,n);return Math.floor(a*r)/r},W=function(e){var t,n=0,a=Object(k.a)(f);try{for(a.s();!(t=a.n()).done;){var r=t.value;n+=e.stats[r]}}catch(i){a.e(i)}finally{a.f()}return n},K=function(e,t){var n,a=e[F(0,e.length)],r=Object(k.a)(f);try{for(r.s();!(n=r.n()).done;){var i=n.value;a.stats[i]=Math.ceil(a.stats[i]*(t+1)*R(.5,3,1))}}catch(o){r.e(o)}finally{r.f()}return a.price=W(a),a},Z=function(e){var t=Object(a.useState)("Hero"),n=Object(l.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)({}),u=Object(l.a)(c,2),m=u[0],p=u[1],E=Object(a.useState)([]),f=Object(l.a)(E,2),h=f[0],k=f[1],v=Object(a.useState)([]),g=Object(l.a)(v,2),C=g[0],N=g[1],q=Object(a.useState)([]),O=Object(l.a)(q,2),w=O[0],x=O[1],y=Object(a.useState)([]),D=Object(l.a)(y,2),P=D[0],R=D[1],W=Object(a.useState)(!1),Z=Object(l.a)(W,2),J=Z[0],$=Z[1],_=Object(a.useState)(!1),Q=Object(l.a)(_,2),V=Q[0],X=Q[1],Y="https://5cohdjbvl4.execute-api.us-east-1.amazonaws.com/dev/";Object(a.useEffect)((function(){!function(){var t=Y+"heros/"+e.heroId;s.a.get(t).then((function(e){p(e.data),$(!0),console.log("Hero data is loaded from db")})).catch((function(e){console.log("Error: "+e)}))}(),s.a.get("https://5cohdjbvl4.execute-api.us-east-1.amazonaws.com/dev/tasks/").then((function(e){k(e.data.tasksList),console.log("Tasks list is loaded from db")})).catch((function(e){console.log("Error: "+e)})),s.a.get("https://5cohdjbvl4.execute-api.us-east-1.amazonaws.com/dev/bribes/").then((function(e){N(e.data.bribesList),console.log("Bribes list is loaded from db")})).catch((function(e){console.log("Error: "+e)})),s.a.get("https://5cohdjbvl4.execute-api.us-east-1.amazonaws.com/dev/items/").then((function(e){x(e.data.itemsList),console.log("Items list is loaded from db")})).catch((function(e){console.log("Error: "+e)})),s.a.get("https://5cohdjbvl4.execute-api.us-east-1.amazonaws.com/dev/lvls/").then((function(e){R(e.data.lvlsList),console.log("Lvls list is loaded from db")})).catch((function(e){console.log("Error: "+e)}))}),[e.heroId]);var ee=r.a.useCallback((function(t){for(var n=!1;t.exp>t.expNextLvl;)n=!0,t.lvl+=1,t.exp-=t.expNextLvl,t.expNextLvl=P[t.lvl],t.prison.chance=5*t.lvl;var a="https://5cohdjbvl4.execute-api.us-east-1.amazonaws.com/dev/heros/"+e.heroId;s.a.put(a,t).then((function(e){p(e.data),n&&X(!0),console.log("Hero data is uploaded to db")})).catch((function(e){console.log("Error: "+e)}))}),[P]),te=Object(a.useState)("undefined"),ne=Object(l.a)(te,2),ae=ne[0],re=ne[1],ie=Object(a.useState)(""),oe=Object(l.a)(ie,2),le=oe[0],ce=oe[1],se=r.a.useCallback((function(){if(J&&m.task.isStarted){var e=m.task.endTime,t=(new Date).getTime(),n=Math.round((e-t)/1e3);return re(n),e<t}return!1}),[m]),ue=r.a.useCallback((function(){if(m.task.isStarted&&!m.task.isFinished){console.log("Function finishTask");var e=m;e.task.isFinished=!0,ce("!!"),ee(e)}}),[m,ee]);Object(a.useEffect)((function(){var e=setInterval((function(){J&&se()&&ue(),J&&Ce()&&Ne(),J&&ye()&&De()}),1e3);return function(){return clearInterval(e)}}),[m,ue,se,J]);var me=function(e,t){console.log("Function startTask");var n=new Date,a=new Date(n.getTime()+1e3*e.taskDuration[t]).getTime(),r=m;r.task.isStarted=!0,r.task.isFinished=!1,r.task.isCalculated=!1,r.task.endTime=a,r.task.taskDuration=e.taskDuration[t],r.task.name=e.name[t],r.task.description=e.description[t],r.task.imgUrl=e.imgUrl[t],r.task.gold=e.gold[t],r.task.exp=e.exp[t],ee(r)},de=function(){if(se()){console.log("Function calculateTask"),ce("");var e=m;if(F(1,100)<m.prison.chance){var t=new Date;e.prison.isPrisoned=!0,e.prison.exitPrisonTime=new Date(t.getTime()+1e3*m.prison.duration).getTime()}e.task.isStarted=!1,e.task.isFinished=!1,e.task.isCalculated=!0,e.prison.isPrisoned||(Number.isInteger(e.task.gold)?e.gold=e.gold+e.task.gold:e.gold=e.gold+1,Number.isInteger(e.task.exp)?e.exp=e.exp+e.task.exp:e.exp=e.exp+1,e.task.item&&be(e.task.item));for(var n=pe(),a=[],r=[],i=[],o=[],l=[],c=[],s=0,u=e.lvl+1,d=0,p=[0,1,2];d<p.length;d++){var b=p[d];i[b]=h[n[b]].name,o[b]=h[n[b]].description,l[b]=h[n[b]].imgUrl,c[b]=h[n[b]].time,s=F(1,c[b]/2),a[b]=Math.floor(h[n[b]].gold*u*s/30),r[b]=Math.floor(h[n[b]].exp*u*(c[b]-s)/30)}F(1,100)<90?e.task.item=K(w,u):e.task.item={},e.task.gold=a,e.task.exp=r,e.task.name=i,e.task.description=o,e.task.taskDuration=c,e.task.imgUrl=l,re("undefined"),ee(e)}},pe=function(){for(var e=F(0,h.length),t=F(0,h.length),n=F(0,h.length);t===e;)t=F(0,h.length);for(;n===e||n===t;)n=F(0,h.length);return[e,t,n]},be=function(e){m.backpack.length<10&&m.backpack.push(e)},Ee=Object(a.useState)("undefined"),fe=Object(l.a)(Ee,2),he=fe[0],ke=fe[1],ve=function(){return 1*m.lvl},ge=function(){return m.gold>=ve()},Ce=r.a.useCallback((function(){if(m.prison.isPrisoned){var e=m.prison.exitPrisonTime,t=(new Date).getTime(),n=Math.round((e-t)/1e3);return ke(n),e<t}return!1}),[m]),Ne=r.a.useCallback((function(){if(m.prison.isPrisoned){console.log("Function terminationOfPrisonSentence");var e=m;e.prison.isPrisoned=!1,ke("undefined"),ee(e)}}),[m,ee]),qe=function(){var e=m,t=ve();e.gold=e.gold-t,e.prison.isPrisoned=!1,e.prison.exitPrisonTime=1596743927075,ke("undefined"),ee(e)},je=Object(a.useState)("undefined"),Oe=Object(l.a)(je,2),we=Oe[0],xe=Oe[1],ye=r.a.useCallback((function(){if(m.bribe.isPayed){var e=m.bribe.endTime,t=(new Date).getTime(),n=Math.round((e-t)/1e3);return xe(n),e<t}return!1}),[m]),De=r.a.useCallback((function(){if(m.bribe.isPayed){console.log("Function finishBribe");var e=m;e.bribe.isPayed=!1,e.prison.chance+=e.bribe.chanceReduction,xe("undefined"),ee(e)}}),[m,ee]);return J?r.a.createElement("div",{className:"popupContainer",onClick:function(){return X(!1)}},r.a.createElement("div",{className:"gameContainer"},r.a.createElement("div",{className:"GameMenu"},r.a.createElement(d,{onClick:function(e){return o(e)},onClickLogout:function(){return e.onClickLogout()},CityAlert:le})),r.a.createElement("div",{className:"GamePage"},r.a.createElement(b,{hero:m}),"Hero"===i?r.a.createElement(j,{hero:m,updateHero:function(e){return ee(e)}}):"City"!==i||m.prison.isPrisoned?"Residence"!==i||m.prison.isPrisoned?"Bribes"!==i||m.prison.isPrisoned?"Lab"!==i||m.prison.isPrisoned?"Warehouse"!==i||m.prison.isPrisoned?"Map"!==i||m.prison.isPrisoned?"Socios"===i?r.a.createElement(I,null):"Cartel"===i?r.a.createElement(H,null):"MailBox"===i?r.a.createElement(U,null):"Shop"!==i||m.prison.isPrisoned?r.a.createElement(A,{payAndGetOutPrison:function(){return qe()},isEnoughGoldToLeftPrison:ge(),remainingPrisonDuration:he,prisonDuration:m.prison.duration,costOfGettingOutOfPrison:ve()}):r.a.createElement(G,null):r.a.createElement(M,null):r.a.createElement(z,null):r.a.createElement(B,null):r.a.createElement(S,{hero:m,bribesList:C,updateHero:function(e){return ee(e)},remainingBribeDuration:we}):r.a.createElement(T,null):r.a.createElement(L,{task:m.task,prisonChance:m.prison.chance,calculateTask:function(){return de()},remainingTaskDuration:ae,startTask:function(e,t){return me(e,t)}}))),V&&r.a.createElement("div",{className:"popup"},"Gratulacje ",r.a.createElement("br",null),"Osi\u0105gni\u0119to nast\u0119pny poziom! ",r.a.createElement("br",null),"Aktualny poziom: ",m.lvl)):r.a.createElement("div",null,"loading page")},J=function(e){var t=Object(a.useState)(!1),n=Object(l.a)(t,2),i=n[0],o=n[1],c=Object(a.useState)("admin"),d=Object(l.a)(c,2),p=d[0],b=d[1],E=Object(a.useState)("admin"),f=Object(l.a)(E,2),h=f[0],k=f[1],v=Object(a.useState)(""),g=Object(l.a)(v,2),C=g[0],N=g[1],q=Object(a.useState)(""),j=Object(l.a)(q,2),O=j[0],w=j[1];return r.a.createElement("div",{className:"App"},i?r.a.createElement(Z,{onClickLogout:function(){return o(!1)},heroId:O}):r.a.createElement("div",null,r.a.createElement(u,{handleLoggingOnClickButton:function(){return function(){var e="https://5cohdjbvl4.execute-api.us-east-1.amazonaws.com/dev/users/"+p;s.a.get(e).then((function(e){e.data.password===h?(w(e.data._id),o(!0),N("")):N("Nieprawid\u0142owe has\u0142o.")})).catch((function(e){console.log("Error: "+e),N("Podany login nie istnieje.")}))}()},handleChangeLogin:function(e){return b(e)},handleChangePassword:function(e){return k(e)},login:p,password:h}),r.a.createElement(m,{logErrMsg:C})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[17,1,2]]]);
//# sourceMappingURL=main.a835275b.chunk.js.map